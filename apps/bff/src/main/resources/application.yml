spring:
  application:
    name: bff
  main:
    web-application-type: reactive

  security:
    oauth2:
      client:
        registration:
          hsid:
            client-id: ${HSID_CLIENT_ID}
            client-authentication-method: none
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            scope: openid, profile, email
          hcp:
            provider: hcp
            client-id: ${HCP_CLIENT_ID}
            client-secret: ${HCP_CLIENT_SECRET}
            authorization-grant-type: client_credentials
        provider:
          hsid:
            issuer-uri: ${HSID_IDP_ORIGIN:https://nonprod.identity.healthsafe-id.com}
            authorization-uri: ${HSID_IDP_ORIGIN:https://nonprod.identity.healthsafe-id.com}/oidc/authorize
            token-uri: ${HSID_IDP_ORIGIN:https://nonprod.identity.healthsafe-id.com}/oidc/token
            jwk-set-uri: ${HSID_IDP_ORIGIN:https://nonprod.identity.healthsafe-id.com}/oidc/jwks
            user-info-uri: ${HSID_IDP_ORIGIN:https://nonprod.identity.healthsafe-id.com}/oidc/userinfo
            user-name-attribute: sub
          hcp:
            token-uri: ${HCP_TOKEN_URI:https://hcp.com/oauth2/token}

server:
  port: 8080

app:
  frontend-redirect-path: ${FRONTEND_REDIRECT_PATH:http://localhost:4202/dashboard}
  frontend-error-path: ${FRONTEND_ERROR_PATH:http://localhost:4202/auth-error}
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:4202,http://localhost:4203,http://localhost:4204}
  user-service:
    base-url: ${USER_SERVICE_BASE_URL:https://user-service.example.com}
  psn:
    base-url: ${PSN_BASE_URL:https://psn.example.com}
  session:
    duration-minutes: ${SESSION_DURATION_MINUTES:30}
